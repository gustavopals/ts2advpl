<div class="chat-container">
  <header class="chat-header">
    <h1>DevBot IA</h1>
    <p>Seu assistente de programação</p>
  </header>

  <main class="chat-body" #scrollMe>
    <div *ngFor="let message of messages" class="message-wrapper" [ngClass]="{ 'user-turn': message.sender === 'user' }">
      <div class="message" [ngClass]="{ 'user-message': message.sender === 'user', 'bot-message': message.sender === 'bot' }">
        <p class="message-text" [innerHTML]="message.text"></p>
        
        <pre *ngIf="message.code"><code [class]="'language-' + message.language">{{ message.code }}</code></pre>
      </div>
    </div>
    
    <div *ngIf="isLoading" class="message-wrapper">
        <div class="message bot-message typing-indicator">
            <span></span><span></span><span></span>
        </div>
    </div>
  </main>

  <footer class="chat-footer">
    <textarea 
      class="text-input" 
      placeholder="Digite sua pergunta ou código..."
      [(ngModel)]="newMessage" 
      (keydown.enter)="sendMessage($event)">
    </textarea>
    <button class="send-button" (click)="sendMessage($event)" [disabled]="!newMessage.trim()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
      </svg>
    </button>
  </footer>
</div>